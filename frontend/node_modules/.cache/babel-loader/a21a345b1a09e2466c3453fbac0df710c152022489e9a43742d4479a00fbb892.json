{"ast":null,"code":"var _jsxFileName = \"C:\\\\MERN\\\\CampusOrbit \\u2013 All-in-One Student Engagement System\\\\frontend\\\\src\\\\components\\\\Events\\\\PhotoUploadForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport useAuth from '../../hooks/useAuth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PhotoUploadForm = ({\n  eventId,\n  onUploadSuccess\n}) => {\n  _s();\n  const {\n    user\n  } = useAuth(); // (optional) if you want user info\n  const [files, setFiles] = useState(null);\n  const [error, setError] = useState('');\n  const handleFileChange = e => setFiles(e.target.files);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!files || files.length === 0) {\n      setError('Please select at least one file.');\n      return;\n    }\n    const formData = new FormData();\n    for (let i = 0; i < files.length; i++) {\n      formData.append('photos', files[i]);\n    }\n    try {\n      const token = localStorage.getItem('token');\n      const res = await axios.post(`/api/events/${eventId}/photos`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n          Authorization: `Bearer ${token}`\n        }\n      });\n      onUploadSuccess(res.data.photos);\n      setFiles(null);\n      setError('');\n    } catch (err) {\n      setError('Failed to upload photos.');\n      console.error(err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    style: {\n      marginTop: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      multiple: true,\n      accept: \"image/*\",\n      onChange: handleFileChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      style: {\n        marginLeft: 10\n      },\n      children: \"Upload Photos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: 'red'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_s(PhotoUploadForm, \"hbOLzLpZiIOPr08SFRKm5s1v5SY=\", false, function () {\n  return [useAuth];\n});\n_c = PhotoUploadForm;\nexport default PhotoUploadForm;\nvar _c;\n$RefreshReg$(_c, \"PhotoUploadForm\");","map":{"version":3,"names":["React","useState","axios","useAuth","jsxDEV","_jsxDEV","PhotoUploadForm","eventId","onUploadSuccess","_s","user","files","setFiles","error","setError","handleFileChange","e","target","handleSubmit","preventDefault","length","formData","FormData","i","append","token","localStorage","getItem","res","post","headers","Authorization","data","photos","err","console","onSubmit","style","marginTop","children","type","multiple","accept","onChange","fileName","_jsxFileName","lineNumber","columnNumber","marginLeft","color","_c","$RefreshReg$"],"sources":["C:/MERN/CampusOrbit â€“ All-in-One Student Engagement System/frontend/src/components/Events/PhotoUploadForm.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport useAuth from '../../hooks/useAuth';\r\n\r\nconst PhotoUploadForm = ({ eventId, onUploadSuccess }) => {\r\n  const { user } = useAuth(); // (optional) if you want user info\r\n  const [files, setFiles] = useState(null);\r\n  const [error, setError] = useState('');\r\n\r\n  const handleFileChange = (e) => setFiles(e.target.files);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!files || files.length === 0) {\r\n      setError('Please select at least one file.');\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    for (let i = 0; i < files.length; i++) {\r\n      formData.append('photos', files[i]);\r\n    }\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const res = await axios.post(`/api/events/${eventId}/photos`, formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n      onUploadSuccess(res.data.photos);\r\n      setFiles(null);\r\n      setError('');\r\n    } catch (err) {\r\n      setError('Failed to upload photos.');\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} style={{ marginTop: 20 }}>\r\n      <input type=\"file\" multiple accept=\"image/*\" onChange={handleFileChange} />\r\n      <button type=\"submit\" style={{ marginLeft: 10 }}>Upload Photos</button>\r\n      {error && <p style={{ color: 'red' }}>{error}</p>}\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PhotoUploadForm;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,OAAO,MAAM,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1C,MAAMC,eAAe,GAAGA,CAAC;EAAEC,OAAO;EAAEC;AAAgB,CAAC,KAAK;EAAAC,EAAA;EACxD,MAAM;IAAEC;EAAK,CAAC,GAAGP,OAAO,CAAC,CAAC,CAAC,CAAC;EAC5B,MAAM,CAACQ,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACY,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAEtC,MAAMc,gBAAgB,GAAIC,CAAC,IAAKJ,QAAQ,CAACI,CAAC,CAACC,MAAM,CAACN,KAAK,CAAC;EAExD,MAAMO,YAAY,GAAG,MAAOF,CAAC,IAAK;IAChCA,CAAC,CAACG,cAAc,CAAC,CAAC;IAElB,IAAI,CAACR,KAAK,IAAIA,KAAK,CAACS,MAAM,KAAK,CAAC,EAAE;MAChCN,QAAQ,CAAC,kCAAkC,CAAC;MAC5C;IACF;IAEA,MAAMO,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGZ,KAAK,CAACS,MAAM,EAAEG,CAAC,EAAE,EAAE;MACrCF,QAAQ,CAACG,MAAM,CAAC,QAAQ,EAAEb,KAAK,CAACY,CAAC,CAAC,CAAC;IACrC;IAEA,IAAI;MACF,MAAME,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAC3C,MAAMC,GAAG,GAAG,MAAM1B,KAAK,CAAC2B,IAAI,CAAC,eAAetB,OAAO,SAAS,EAAEc,QAAQ,EAAE;QACtES,OAAO,EAAE;UACP,cAAc,EAAE,qBAAqB;UACrCC,aAAa,EAAE,UAAUN,KAAK;QAChC;MACF,CAAC,CAAC;MACFjB,eAAe,CAACoB,GAAG,CAACI,IAAI,CAACC,MAAM,CAAC;MAChCrB,QAAQ,CAAC,IAAI,CAAC;MACdE,QAAQ,CAAC,EAAE,CAAC;IACd,CAAC,CAAC,OAAOoB,GAAG,EAAE;MACZpB,QAAQ,CAAC,0BAA0B,CAAC;MACpCqB,OAAO,CAACtB,KAAK,CAACqB,GAAG,CAAC;IACpB;EACF,CAAC;EAED,oBACE7B,OAAA;IAAM+B,QAAQ,EAAElB,YAAa;IAACmB,KAAK,EAAE;MAAEC,SAAS,EAAE;IAAG,CAAE;IAAAC,QAAA,gBACrDlC,OAAA;MAAOmC,IAAI,EAAC,MAAM;MAACC,QAAQ;MAACC,MAAM,EAAC,SAAS;MAACC,QAAQ,EAAE5B;IAAiB;MAAA6B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC3E1C,OAAA;MAAQmC,IAAI,EAAC,QAAQ;MAACH,KAAK,EAAE;QAAEW,UAAU,EAAE;MAAG,CAAE;MAAAT,QAAA,EAAC;IAAa;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,EACtElC,KAAK,iBAAIR,OAAA;MAAGgC,KAAK,EAAE;QAAEY,KAAK,EAAE;MAAM,CAAE;MAAAV,QAAA,EAAE1B;IAAK;MAAA+B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC7C,CAAC;AAEX,CAAC;AAACtC,EAAA,CA5CIH,eAAe;EAAA,QACFH,OAAO;AAAA;AAAA+C,EAAA,GADpB5C,eAAe;AA8CrB,eAAeA,eAAe;AAAC,IAAA4C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}