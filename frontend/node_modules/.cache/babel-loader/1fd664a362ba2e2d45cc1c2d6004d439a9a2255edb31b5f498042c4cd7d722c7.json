{"ast":null,"code":"var _jsxFileName = \"C:\\\\CampusOrbit---All-in-One-Student-Engagement-System-1\\\\frontend\\\\src\\\\components\\\\Events\\\\EventCalendar.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport FullCalendar from '@fullcalendar/react';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport interactionPlugin from '@fullcalendar/interaction';\nimport axios from 'axios';\nimport './EventCalendar.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EventCalendar = () => {\n  _s();\n  const [events, setEvents] = useState([]);\n  const [filters, setFilters] = useState({\n    category: '',\n    clubId: '',\n    startDate: '',\n    endDate: ''\n  });\n  const formattedEvents = res.data.map(event => {\n    var _event$clubId;\n    return {\n      id: event._id,\n      title: event.title,\n      start: event.date,\n      extendedProps: {\n        location: event.location,\n        // Add location here\n        category: event.category,\n        club: ((_event$clubId = event.clubId) === null || _event$clubId === void 0 ? void 0 : _event$clubId.name) || ''\n      },\n      backgroundColor: getCategoryColor(event.category)\n    };\n  });\n  setEvents(formattedEvents);\n\n  // Fetch clubs for filter dropdown (optional)\n  const [clubs, setClubs] = useState([]);\n  useEffect(() => {\n    axios.get('/api/clubs').then(res => setClubs(res.data)).catch(err => {});\n  }, []);\n\n  // Fetch events with filters\n  useEffect(() => {\n    const fetchEvents = async () => {\n      try {\n        const res = await axios.get('/api/events/filter', {\n          params: filters\n        });\n        // Transform for FullCalendar\n        setEvents(res.data.map(e => {\n          var _e$clubId;\n          return {\n            id: e._id,\n            title: e.title,\n            start: e.date,\n            display: 'block',\n            backgroundColor: '#3788d8',\n            borderColor: '#3788d8',\n            extendedProps: {\n              location: e.location,\n              category: e.category,\n              club: (_e$clubId = e.clubId) === null || _e$clubId === void 0 ? void 0 : _e$clubId.name\n            }\n          };\n        }));\n      } catch (err) {/*...*/}\n    };\n    fetchEvents();\n  }, [filters]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"calendar-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"calendar-title\",\n      children: \"Event Calendar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"calendar-filters\",\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        value: filters.category,\n        onChange: e => setFilters({\n          ...filters,\n          category: e.target.value\n        }),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"All Categories\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          children: \"Academic\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          children: \"Sports\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          children: \"Cultural\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          children: \"Tech\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          children: \"Social\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: filters.clubId,\n        onChange: e => setFilters({\n          ...filters,\n          clubId: e.target.value\n        }),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"All Clubs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), clubs.map(club => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: club._id,\n          children: club.name\n        }, club._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 30\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: filters.startDate,\n        onChange: e => setFilters({\n          ...filters,\n          startDate: e.target.value\n        }),\n        placeholder: \"Start Date\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: filters.endDate,\n        onChange: e => setFilters({\n          ...filters,\n          endDate: e.target.value\n        }),\n        placeholder: \"End Date\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setFilters({\n          category: '',\n          clubId: '',\n          startDate: '',\n          endDate: ''\n        }),\n        children: \"Clear\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FullCalendar, {\n      plugins: [dayGridPlugin, interactionPlugin],\n      initialView: \"dayGridMonth\",\n      events: events,\n      eventClick: handleEventClick,\n      height: \"auto\",\n      headerToolbar: {\n        left: 'prev,next today',\n        center: 'title',\n        right: 'dayGridMonth'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n_s(EventCalendar, \"VNMgpq7lR7FYbykSbCjfVBXEo6E=\");\n_c = EventCalendar;\nexport default EventCalendar;\nvar _c;\n$RefreshReg$(_c, \"EventCalendar\");","map":{"version":3,"names":["React","useState","useEffect","FullCalendar","dayGridPlugin","interactionPlugin","axios","jsxDEV","_jsxDEV","EventCalendar","_s","events","setEvents","filters","setFilters","category","clubId","startDate","endDate","formattedEvents","res","data","map","event","_event$clubId","id","_id","title","start","date","extendedProps","location","club","name","backgroundColor","getCategoryColor","clubs","setClubs","get","then","catch","err","fetchEvents","params","e","_e$clubId","display","borderColor","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","target","type","placeholder","onClick","plugins","initialView","eventClick","handleEventClick","height","headerToolbar","left","center","right","_c","$RefreshReg$"],"sources":["C:/CampusOrbit---All-in-One-Student-Engagement-System-1/frontend/src/components/Events/EventCalendar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport FullCalendar from '@fullcalendar/react';\r\nimport dayGridPlugin from '@fullcalendar/daygrid';\r\nimport interactionPlugin from '@fullcalendar/interaction';\r\nimport axios from 'axios';\r\nimport './EventCalendar.css'; \r\n\r\nconst EventCalendar = () => {\r\n  const [events, setEvents] = useState([]);\r\n  const [filters, setFilters] = useState({\r\n    category: '',\r\n    clubId: '',\r\n    startDate: '',\r\n    endDate: ''\r\n  });\r\n\r\nconst formattedEvents = res.data.map(event => ({\r\n  id: event._id,\r\n  title: event.title,\r\n  start: event.date,\r\n  extendedProps: {\r\n    location: event.location,    // Add location here\r\n    category: event.category,\r\n    club: event.clubId?.name || '',\r\n  },\r\n  backgroundColor: getCategoryColor(event.category),\r\n}));\r\n\r\nsetEvents(formattedEvents);\r\n\r\n\r\n  // Fetch clubs for filter dropdown (optional)\r\n  const [clubs, setClubs] = useState([]);\r\n  useEffect(() => {\r\n    axios.get('/api/clubs')\r\n      .then(res => setClubs(res.data))\r\n      .catch(err => {});\r\n  }, []);\r\n\r\n  // Fetch events with filters\r\n  useEffect(() => {\r\n    const fetchEvents = async () => {\r\n      try {\r\n        const res = await axios.get('/api/events/filter', { params: filters });\r\n        // Transform for FullCalendar\r\n        setEvents(res.data.map(e => ({\r\n          id: e._id,\r\n          title: e.title,\r\n          start: e.date,\r\n          display: 'block',\r\n          backgroundColor: '#3788d8',\r\n          borderColor: '#3788d8',\r\n          extendedProps: {\r\n            location: e.location,\r\n            category: e.category,\r\n            club: e.clubId?.name\r\n          }\r\n        })));\r\n      } catch (err) {/*...*/}\r\n    };\r\n    fetchEvents();\r\n  }, [filters]);\r\n\r\n \r\n\r\n  return (\r\n    <div className=\"calendar-page\">\r\n      <h2 className=\"calendar-title\">Event Calendar</h2>\r\n      <div className=\"calendar-filters\">\r\n        <select value={filters.category} onChange={e => setFilters({ ...filters, category: e.target.value })}>\r\n          <option value=\"\">All Categories</option>\r\n          <option>Academic</option>\r\n          <option>Sports</option>\r\n          <option>Cultural</option>\r\n          <option>Tech</option>\r\n          <option>Social</option>\r\n        </select>\r\n        <select value={filters.clubId} onChange={e => setFilters({ ...filters, clubId: e.target.value })}>\r\n          <option value=\"\">All Clubs</option>\r\n          {clubs.map(club => <option key={club._id} value={club._id}>{club.name}</option>)}\r\n        </select>\r\n        <input\r\n          type=\"date\"\r\n          value={filters.startDate}\r\n          onChange={e => setFilters({ ...filters, startDate: e.target.value })}\r\n          placeholder=\"Start Date\"\r\n        />\r\n        <input\r\n          type=\"date\"\r\n          value={filters.endDate}\r\n          onChange={e => setFilters({ ...filters, endDate: e.target.value })}\r\n          placeholder=\"End Date\"\r\n        />\r\n        <button onClick={() => setFilters({ category: '', clubId: '', startDate: '', endDate: '' })}>\r\n          Clear\r\n        </button>\r\n      </div>\r\n\r\n      <FullCalendar\r\n        plugins={[dayGridPlugin, interactionPlugin]}\r\n        initialView=\"dayGridMonth\"\r\n        events={events}\r\n        eventClick={handleEventClick}\r\n        height=\"auto\"\r\n        headerToolbar={{\r\n          left: 'prev,next today',\r\n          center: 'title',\r\n          right: 'dayGridMonth'\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EventCalendar;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}