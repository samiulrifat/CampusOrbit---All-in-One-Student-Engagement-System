{"ast":null,"code":"var _jsxFileName = \"C:\\\\CampusOrbit---All-in-One-Student-Engagement-System\\\\frontend\\\\src\\\\components\\\\Events\\\\PhotoUploadForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport useAuth from '../../hooks/useAuth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst token = localStorage.getItem('token');\nconst res = await axios.post(`/api/events/${eventId}/photos`, formData, {\n  headers: {\n    'Content-Type': 'multipart/form-data',\n    Authorization: `Bearer ${token}`\n  }\n});\nconst PhotoUploadForm = ({\n  eventId,\n  onUploadSuccess\n}) => {\n  _s();\n  const [files, setFiles] = useState(null);\n  const [error, setError] = useState('');\n  const handleFileChange = e => setFiles(e.target.files);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!files || files.length === 0) {\n      setError('Please select at least one file.');\n      return;\n    }\n    const formData = new FormData();\n    for (let i = 0; i < files.length; i++) {\n      formData.append('photos', files[i]);\n    }\n    try {\n      // If using JWT auth, set token like: { headers: { Authorization: \"Bearer \" + token } }\n      const res = await axios.post(`/api/events/${eventId}/photos`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      onUploadSuccess(res.data.photos);\n      setFiles(null);\n      setError('');\n    } catch (err) {\n      setError('Failed to upload photos.');\n      console.error(err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    style: {\n      marginTop: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      multiple: true,\n      accept: \"image/*\",\n      onChange: handleFileChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      style: {\n        marginLeft: 10\n      },\n      children: \"Upload Photos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: 'red'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(PhotoUploadForm, \"ar+3u00JWTIcWopbjsfxH9jcwr8=\");\n_c = PhotoUploadForm;\nexport default PhotoUploadForm;\nvar _c;\n$RefreshReg$(_c, \"PhotoUploadForm\");","map":{"version":3,"names":["React","useState","axios","useAuth","jsxDEV","_jsxDEV","token","localStorage","getItem","res","post","eventId","formData","headers","Authorization","PhotoUploadForm","onUploadSuccess","_s","files","setFiles","error","setError","handleFileChange","e","target","handleSubmit","preventDefault","length","FormData","i","append","data","photos","err","console","onSubmit","style","marginTop","children","type","multiple","accept","onChange","fileName","_jsxFileName","lineNumber","columnNumber","marginLeft","color","_c","$RefreshReg$"],"sources":["C:/CampusOrbit---All-in-One-Student-Engagement-System/frontend/src/components/Events/PhotoUploadForm.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport useAuth from '../../hooks/useAuth';\r\n\r\n\r\nconst token = localStorage.getItem('token');\r\nconst res = await axios.post(`/api/events/${eventId}/photos`, formData, {\r\n  headers: {\r\n    'Content-Type': 'multipart/form-data',\r\n    Authorization: `Bearer ${token}`\r\n  }\r\n});\r\n\r\nconst PhotoUploadForm = ({ eventId, onUploadSuccess }) => {\r\n  const [files, setFiles] = useState(null);\r\n  const [error, setError] = useState('');\r\n\r\n  const handleFileChange = (e) => setFiles(e.target.files);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!files || files.length === 0) {\r\n      setError('Please select at least one file.');\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    for (let i = 0; i < files.length; i++) {\r\n      formData.append('photos', files[i]);\r\n    }\r\n\r\n    try {\r\n      // If using JWT auth, set token like: { headers: { Authorization: \"Bearer \" + token } }\r\n      const res = await axios.post(`/api/events/${eventId}/photos`, formData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' }\r\n      });\r\n      onUploadSuccess(res.data.photos);\r\n      setFiles(null);\r\n      setError('');\r\n    } catch (err) {\r\n      setError('Failed to upload photos.');\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} style={{ marginTop: 20 }}>\r\n      <input type=\"file\" multiple accept=\"image/*\" onChange={handleFileChange} />\r\n      <button type=\"submit\" style={{ marginLeft: 10 }}>Upload Photos</button>\r\n      {error && <p style={{ color: 'red' }}>{error}</p>}\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PhotoUploadForm;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,OAAO,MAAM,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAG1C,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;AAC3C,MAAMC,GAAG,GAAG,MAAMP,KAAK,CAACQ,IAAI,CAAC,eAAeC,OAAO,SAAS,EAAEC,QAAQ,EAAE;EACtEC,OAAO,EAAE;IACP,cAAc,EAAE,qBAAqB;IACrCC,aAAa,EAAE,UAAUR,KAAK;EAChC;AACF,CAAC,CAAC;AAEF,MAAMS,eAAe,GAAGA,CAAC;EAAEJ,OAAO;EAAEK;AAAgB,CAAC,KAAK;EAAAC,EAAA;EACxD,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGlB,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACmB,KAAK,EAAEC,QAAQ,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EAEtC,MAAMqB,gBAAgB,GAAIC,CAAC,IAAKJ,QAAQ,CAACI,CAAC,CAACC,MAAM,CAACN,KAAK,CAAC;EAExD,MAAMO,YAAY,GAAG,MAAOF,CAAC,IAAK;IAChCA,CAAC,CAACG,cAAc,CAAC,CAAC;IAClB,IAAI,CAACR,KAAK,IAAIA,KAAK,CAACS,MAAM,KAAK,CAAC,EAAE;MAChCN,QAAQ,CAAC,kCAAkC,CAAC;MAC5C;IACF;IAEA,MAAMT,QAAQ,GAAG,IAAIgB,QAAQ,CAAC,CAAC;IAC/B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGX,KAAK,CAACS,MAAM,EAAEE,CAAC,EAAE,EAAE;MACrCjB,QAAQ,CAACkB,MAAM,CAAC,QAAQ,EAAEZ,KAAK,CAACW,CAAC,CAAC,CAAC;IACrC;IAEA,IAAI;MACF;MACA,MAAMpB,GAAG,GAAG,MAAMP,KAAK,CAACQ,IAAI,CAAC,eAAeC,OAAO,SAAS,EAAEC,QAAQ,EAAE;QACtEC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAsB;MACnD,CAAC,CAAC;MACFG,eAAe,CAACP,GAAG,CAACsB,IAAI,CAACC,MAAM,CAAC;MAChCb,QAAQ,CAAC,IAAI,CAAC;MACdE,QAAQ,CAAC,EAAE,CAAC;IACd,CAAC,CAAC,OAAOY,GAAG,EAAE;MACZZ,QAAQ,CAAC,0BAA0B,CAAC;MACpCa,OAAO,CAACd,KAAK,CAACa,GAAG,CAAC;IACpB;EACF,CAAC;EAED,oBACE5B,OAAA;IAAM8B,QAAQ,EAAEV,YAAa;IAACW,KAAK,EAAE;MAAEC,SAAS,EAAE;IAAG,CAAE;IAAAC,QAAA,gBACrDjC,OAAA;MAAOkC,IAAI,EAAC,MAAM;MAACC,QAAQ;MAACC,MAAM,EAAC,SAAS;MAACC,QAAQ,EAAEpB;IAAiB;MAAAqB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC3EzC,OAAA;MAAQkC,IAAI,EAAC,QAAQ;MAACH,KAAK,EAAE;QAAEW,UAAU,EAAE;MAAG,CAAE;MAAAT,QAAA,EAAC;IAAa;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,EACtE1B,KAAK,iBAAIf,OAAA;MAAG+B,KAAK,EAAE;QAAEY,KAAK,EAAE;MAAM,CAAE;MAAAV,QAAA,EAAElB;IAAK;MAAAuB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC7C,CAAC;AAEX,CAAC;AAAC7B,EAAA,CAvCIF,eAAe;AAAAkC,EAAA,GAAflC,eAAe;AAyCrB,eAAeA,eAAe;AAAC,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}